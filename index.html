<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">

    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser
	
	
	//counter for messages
	var count = document.getElementById("count");
	count.innerHTML = window.geemails.length;
	
	// My sad attempt at using jquery
	var addMessages = function() {
		 for (var i = 0; i<window.geemails.length; i++) {
		 	$('<div class=row').prependTo('.container');
				 $('<div class = "sender">').text(window.geemails[i].sender).append();
				 $('<div class = "subject">').text(window.geemails[i].subject).append();
				 $('<div class = "date">').text(window.geemails[i].date).append();
		 			<div class = "sender">This is a test</div>
					<div class = "subject">subject test</div>
					<div class = "date">date test</div>
					<div class = "body">body check</div>
				 </div>"
			);
			$('body').hide();
			
			$('.sender').text(window.geemails[i].sender);
			$('.subject').text(window.geemails[i].subject);
			$('.date').text(window.geemails[i].date);
			$('body').text(window.geemails[i].body);
		 }
	 };


	$(document).ready(addMessages());
	
	/*
	var showMessages= function() {
		$('tr').click(function(){
			alert(this.messageContent)
		})
	}
	
	var messageContent = [];
	var mytable = document.getElementById("myTable");
	//generate initial table
	for (var i =0; i<window.geemails.length; i++) {
		var row = mytable.insertRow(i+1);
		var cell1 = row.insertCell(0);
		var cell2 = row.insertCell(1);
		var cell3 = row.insertCell(2);
		cell1.innerHTML = window.geemails[i].sender;
		cell2.innerHTML = window.geemails[i].subject;
		cell3.innerHTML = window.geemails[i].date;
		messageContent[i]=window.geemails[i].body;
	}
	
	function generateNewTable() {
		window.geemails.push(generateMessage());
		var row = mytable.insertRow(window.geemails.length+1);
		var cell1 = row.insertCell(0);
		var cell2 = row.insertCell(1);
		var cell3 = row.insertCell(2);
		cell1.innerHTML = window.geemails[window.geemails.length-1].sender;
		cell2.innerHTML = subjects[window.geemails.length-1].subject;
		cell3.innerHTML = dates[window.geemails.length-1].body;
		messageContent[window.geemails.length] = window.geemails[i].body;
	}
	
	
	setInterval(generateNewTable(), 5000);
	
	
	// after clicking a row of a message, this function will be called and will generate a new pop up window with the email's body 
	//function messagePopUp() {	
	//	var myWindow = window.open("", "MsgWindow", "width=1000,height=500");
	//	myWindow.document.write(messageContent);
	//}
	
	
	*/
	

      };
    </script>
    		<h1>Geemails</h1>
    
	</head>
	<body>
		<div class="nav">
				Inbox
			<div id = "count"></div>
		</div>
		<div class="container" id="main">
			
			
			
			<table style="width:90%" id = "myTable">
				  <tr>
				    <th>Sender</th>
				    <th>Subject</th> 
				    <th>Date</th>
				  </tr>
				  
			</table>
			
		</div>
	</body>
</html>
